{% block sms77_api_compose %}
    <sw-page>
        <template slot="smart-bar-header">
            <h2>{{ $tc('sms77-api.compose.header') }}</h2>
        </template>

        <template slot="smart-bar-actions">
            <sw-button
                    :disabled="isDisabled"
                    form="sms77_compose"
                    :isLoading="isLoading"
                    variant="primary"
            >
                {{ $tc('sms77-api.compose.submit') }}
            </sw-button>
        </template>

        <template slot="content">
            <sw-alert v-if='info' variant="info" appearance="default"
                      :showIcon="true" :closable="false">
                {{ info }}
            </sw-alert>

            <form method="post" style='display: flex;' id='sms77_compose'
                  @submit.prevent="handleSubmit">
                <div style='width: 50%; padding-right: 6px;'>
                    <sw-textarea-field
                            v-bind='commonSettingAttrs("text")'
                            required
                            validation="required"
                            type="textarea"
                            v-model="configuration.text"
                            v-tooltip="translateSettingTooltip('text')"
                    ></sw-textarea-field>

                    <sw-text-field
                            v-bind='commonSettingAttrs("to")'
                            required
                            validation="required"
                            v-model='configuration.to'
                            v-tooltip="translateSettingTooltip('to')"
                    >
                    </sw-text-field>
                </div>

                <div style='width: 50%; padding-left: 6px;'>
                    <sw-number-field
                            :key="name"
                            :min="0"
                            numberType="int"
                            v-bind='commonSettingAttrs(name, false)'
                            v-for="name in $options.optionalFields.numbers"
                            v-model='configuration[name]'
                            v-tooltip="translateSettingTooltip(name)"
                    >
                    </sw-number-field>

                    <sw-text-field
                            :key="name"
                            v-bind='commonSettingAttrs(name)'
                            v-for="name in $options.optionalFields.strings"
                            v-model.trim="configuration[name]"
                            v-tooltip="translateSettingTooltip(name)"
                    ></sw-text-field>

                    <sw-switch-field
                            :key="name"
                            v-bind='commonSettingAttrs(name)'
                            v-for="name in $options.optionalFields.booleans"
                            v-model="configuration[name]"
                            v-tooltip="translateSettingTooltip(name)"
                    ></sw-switch-field>
                </div>
            </form>
        </template>
    </sw-page>
{% endblock %}
